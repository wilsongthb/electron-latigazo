<div class="container">
    
    <div class="row">
        <div class="col-xs-6 col-sm-4 col-md-3 col-lg-2" v-for="(fich, index) in fichas">
            <a class="btn btn-primary btn-raised" data-toggle="modal" href='#modal-id' @click="idFicha = index" :title="fich.titulo">ID: {{index}} - Semana {{fich.semana}} </a>
        </div>
    </div>
    
    
    <div class="modal fade" id="modal-id">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                    <h4 class="modal-title">FICHA {{idFicha}} </h4>
                </div>
                <div class="modal-body">
                    <template v-if="!verEditar">
                        <ficha :id="idFicha" :ficha="fichas[idFicha]"></ficha>
                        <button class="btn btn-raised" @click="editar()">Editar</button>
                    </template>
                    <template v-else>
                        <div>
                            <legend>Form title</legend>

                            <div class="form-group">
                                <label for="">Mes</label>
                                <input type="text" class="form-control" v-model="ficha.mes">
                            </div>                        
                            <div class="form-group">
                                <label for="">Semana</label>
                                <input type="text" class="form-control" v-model="ficha.semana">
                            </div>
                            <div class="form-group">
                                <label for="">Titulo</label>
                                <input type="text" class="form-control" v-model="ficha.titulo">
                            </div>
                            <div class="form-group">
                                <label for="">Identificador</label>
                                <input type="text" class="form-control" v-model="ficha.identificadores">
                            </div>
                            <div class="form-group">
                                <label for="">Logros</label>
                                <input type="text" class="form-control" v-model="newLogro" @keyup.enter="ficha.logros.push(newLogro)">
                                <ul>
                                    <li v-for="(lo, index) in ficha.logros">{{lo}} <button class="danger" title="Eliminar" @click="ficha.logros.splice(index, 1)">X</button></li>
                                </ul>
                            </div>
                        </div>
                        
                    </template>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal" @click="cerrar()">Cerrar</button>
                    <button type="button" class="btn btn-primary" @click="guardar()">Guardar Cambios</button>
                </div>
            </div>
        </div>
    </div>
    
</div>